AndroidManifest.xml

<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.lifecycle">

    <application
        android:allowBackup="true"
        android:label="LifecycleDemo"
        android:theme="@style/Theme.AppCompat.Light.NoActionBar">
        <activity android:name=".SecondActivity" />
        <activity android:name=".MainActivity">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest>



activity_main.xml

<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/rootLayout"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="12dp">

    <TextView
        android:id="@+id/titleTxt"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Lifecycle Demo - MainActivity"
        android:textSize="20sp"
        android:gravity="center"
        android:padding="8dp" />

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:layout_marginTop="8dp"
        android:gravity="center">

        <Button
            android:id="@+id/btnOpenSecond"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Open Second Activity" />

        <Button
            android:id="@+id/btnClear"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Clear Log"
            android:layout_marginStart="12dp" />
    </LinearLayout>

    <TextView
        android:id="@+id/logLabel"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Lifecycle Events:"
        android:layout_marginTop="12dp"
        android:textStyle="bold" />

    <ScrollView
        android:id="@+id/scrollView"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:fillViewport="true"
        android:background="#F6F6F6"
        android:padding="8dp">

        <TextView
            android:id="@+id/logTextView"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text=""
            android:textSize="14sp" />
    </ScrollView>

</LinearLayout>


activity_second.xml

<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/rootSecond"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="12dp">

    <TextView
        android:id="@+id/titleSecond"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Lifecycle Demo - SecondActivity"
        android:textSize="20sp"
        android:gravity="center"
        android:padding="8dp" />

    <Button
        android:id="@+id/btnFinish"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Finish (Back)" />

    <TextView
        android:id="@+id/logTextViewSecond"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Events will appear here..."
        android:layout_marginTop="12dp" />
</LinearLayout>


MainActivity.java


package com.example.lifecycle;

import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.ScrollView;
import android.widget.TextView;
import android.widget.Toast;

import androidx.appcompat.app.AppCompatActivity;

public class MainActivity extends AppCompatActivity {
    private static final String TAG = "MainActivityLifecycle";
    private TextView logTextView;
    private ScrollView scrollView;
    private Button btnOpenSecond, btnClear;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        logTextView = findViewById(R.id.logTextView);
        scrollView = findViewById(R.id.scrollView);
        btnOpenSecond = findViewById(R.id.btnOpenSecond);
        btnClear = findViewById(R.id.btnClear);

        btnOpenSecond.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Intent i = new Intent(MainActivity.this, SecondActivity.class);
                startActivity(i);
            }
        });

        btnClear.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                logTextView.setText("");
            }
        });

        logAndShow("onCreate");
    }

    @Override
    protected void onStart() {
        super.onStart();
        logAndShow("onStart");
    }

    @Override
    protected void onResume() {
        super.onResume();
        logAndShow("onResume");
    }

    @Override
    protected void onPause() {
        super.onPause();
        logAndShow("onPause");
    }

    @Override
    protected void onStop() {
        super.onStop();
        logAndShow("onStop");
    }

    @Override
    protected void onRestart() {
        super.onRestart();
        logAndShow("onRestart");
    }

    @Override
    protected void onDestroy() {
        super.onDestroy();
        logAndShow("onDestroy");
    }

    private void logAndShow(String methodName) {
        String message = methodName + " called at " + System.currentTimeMillis();
        // log to Logcat
        Log.d(TAG, message);
        // show Toast
        Toast.makeText(this, methodName, Toast.LENGTH_SHORT).show();
        // append to on-screen log
        logTextView.append(methodName + "\n");
        // scroll to bottom so latest event is visible
        scrollView.post(new Runnable() {
            @Override
            public void run() {
                scrollView.fullScroll(View.FOCUS_DOWN);
            }
        });
    }
}


SecondActivity.java

package com.example.lifecycle;

import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;
import android.widget.Toast;

import androidx.appcompat.app.AppCompatActivity;

public class SecondActivity extends AppCompatActivity {
    private static final String TAG = "SecondActivityLifecycle";
    private TextView logTextViewSecond;
    private Button btnFinish;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_second);
        logTextViewSecond = findViewById(R.id.logTextViewSecond);
        btnFinish = findViewById(R.id.btnFinish);

        btnFinish.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                finish(); // ends this activity and returns to MainActivity
            }
        });

        logAndShow("onCreate");
    }

    @Override
    protected void onStart() {
        super.onStart();
        logAndShow("onStart");
    }

    @Override
    protected void onResume() {
        super.onResume();
        logAndShow("onResume");
    }

    @Override
    protected void onPause() {
        super.onPause();
        logAndShow("onPause");
    }

    @Override
    protected void onStop() {
        super.onStop();
        logAndShow("onStop");
    }

    @Override
    protected void onRestart() {
        super.onRestart();
        logAndShow("onRestart");
    }

    @Override
    protected void onDestroy() {
        super.onDestroy();
        logAndShow("onDestroy");
    }

    private void logAndShow(String methodName) {
        String message = methodName + " called";
        Log.d(TAG, message);
        Toast.makeText(this, methodName, Toast.LENGTH_SHORT).show();
        // Append to TextView (simple)
        logTextViewSecond.append(methodName + "\n");
    }
}

